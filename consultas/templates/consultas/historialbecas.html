{% extends 'base.html' %}
{% block content %}
<div class='container'>
  <h2>Consulta - Historialbecas</h2>
  <form method='post' class='mb-3'>
    {% csrf_token %}
    <div class='row g-2 align-items-end'>
      <div class='col-md-8'><label>Buscar (ID o nombre)</label><input name='q' class='form-control' placeholder='Ej: 1 o MarÃ­a'></div>
      <div class='col-md-4'><button class='btn btn-primary'>Buscar</button> <a class='btn btn-secondary' href="{% url 'consulta_historialbecas' %}">Ver Todos</a></div>
    </div>
  </form>
  {% if resultados %}
    {% if modo == 'individual' %}<h5>Resultados individuales</h5>{% else %}<h5>Resultados grupales</h5>{% endif %}
    <div class='table-responsive'><table class='table table-striped'><thead><tr><th>Estudiante</th><th>Beca</th><th>Periodo</th><th>Promedio</th><th>Inicio</th><th>Fin</th><th>Estado</th></tr></thead><tbody>{% for r in resultados %}<tr><td>{{ r.estudiante }}</td><td>{{ r.beca }}</td><td>{{ r.periodo }}</td><td>{{ r.promedio_periodo }}</td><td>{{ r.fecha_inicio }}</td><td>{{ r.fecha_fin }}</td><td>{{ r.estado }}</td></tr>{% endfor %}</tbody></table></div>
  {% else %}
    <p class='text-muted'>No hay resultados.</p>
  {% endif %}
</div>
{% endblock %}
